//---------------------------------------------------------------------------
#include <vcl.h>
#pragma hdrstop
#include "CELL.h"
#include "kursova.h"
#include "CellFunctions.h"

//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;
//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{

}
//---------------------------------------------------------------------------

void __fastcall TForm1::Button1Click(TObject *Sender)
{
	int N;
	/*bool correct_N = false;
	while(!correct_N)
	{
		N=StrToInt(Edit1->Text);
		if (N<3||(N%2)==0)
		{
			Memo1->Lines->Append("Неправильно введене N!!!;")  ; 
			Memo1->Lines->Clear();
			
			//Sleep(5000);
		}
		else
		{
			correct_N = true;
			Memo1->Lines->Append('\0');
			//Sleep(500);
			
		}
	} */
	N=StrToInt(Edit1->Text);
	if(N>1&&N%2!=0)
	{
		int A = Form1->ClientHeight;
		double X, Y= A/N;
		if(N<6) X = A/(25*N);
		else if(N>=6&&N<10) X = A/(15*N);
		else if(N>=10&&N<30) X = A/(10*N);
		else if(N>=30&&N<70) X= A/(7*N);
		else if(N>=70&&N<100) X = A/(5*N);
		else  X = A/(3*N) ;

		Canvas->Pen->Color=(TColor)RGB(255,255,255);
		Canvas->Brush->Color=(TColor)RGB(255,255,255);
		Canvas->Rectangle(0,0,Form1->ClientHeight,Form1->ClientHeight); 

		randomize();
		for(int i=0; i<N; i++)
			for(int j =0; j<N; j++)
			{
				/*int a = random(3);
				if(a==0)
				{
					Canvas->Pen->Color=(TColor)RGB(255,0,0);
					Canvas->Brush->Color=(TColor)RGB(255,0,0);
				}
				else if(a==1)
				{
					Canvas->Pen->Color=(TColor)RGB(0,255,0);
					Canvas->Brush->Color=(TColor)RGB(0,255,0);
				}
				else if(a==2)
				{
					Canvas->Pen->Color=(TColor)RGB(0,0,255);
					Canvas->Brush->Color=(TColor)RGB(0,0,255);
				}

				Canvas->Rectangle(j*A/N,i*A/N,j*A/N+A/N-X,i*A/N+A/N-X);*/
				if((i==N/2)&&(j==N/2))
				{
					Canvas->Pen->Color=(TColor)RGB(255,0,0);
					Canvas->Brush->Color=(TColor)RGB(255,0,0);
				}
				else
				{
					Canvas->Pen->Color=(TColor)RGB(0,255,0);
					Canvas->Brush->Color=(TColor)RGB(0,255,0);
				}
				Canvas->Rectangle(j*A/N,i*A/N,j*A/N+A/N-X,i*A/N+A/N-X);  
			
			}
	}
	else
	{
        Label2->Caption="Неправильно введене N!!!";
    }
}
//---------------------------------------------------------------------------

